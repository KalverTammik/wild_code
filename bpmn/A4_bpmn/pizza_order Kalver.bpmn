<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:open-bpmn="http://open-bpmn.org/XMLSchema" id="Definitions_PizzaOrder" targetNamespace="http://example.com/bpmn/pizza" exporter="bpmn-js (https://demo.bpmn.io)" exporterVersion="18.6.1">
  <bpmn:extensionElements>
    <open-bpmn:auto-align />
  </bpmn:extensionElements>
  <bpmn:collaboration id="Collaboration_1bt5gf2">
    <bpmn:participant id="Participant_1676wq1" processRef="PizzaOrderProcess" />
    <bpmn:participant id="Participant_0t9g2ts" name="Klient" />
    <bpmn:messageFlow id="Flow_1ebuby1" sourceRef="ServiceTask_ShowOrderReceived" targetRef="Participant_0t9g2ts" />
    <bpmn:messageFlow id="Flow_0rzk3jy" sourceRef="ServiceTask_ShowOrderInProgress" targetRef="Participant_0t9g2ts" />
    <bpmn:messageFlow id="Flow_1h5lt9m" sourceRef="ServiceTask_ShowOrderOutForDelivery" targetRef="Participant_0t9g2ts" />
    <bpmn:messageFlow id="Flow_15s1f9e" sourceRef="ServiceTask_ShowOrderDelivered" targetRef="Participant_0t9g2ts" />
  </bpmn:collaboration>
  <bpmn:process id="PizzaOrderProcess" processType="Public" isExecutable="true">
    <bpmn:documentation id="documentation_i0h4UQ" />
    <bpmn:laneSet id="LaneSet_Main">
      <bpmn:lane id="Lane_Client" name="Klient" />
      <bpmn:lane id="Lane_Restaurant" name="Pizzarestoran" />
      <bpmn:lane id="Lane_Courier" name="Kuller" />
      <bpmn:lane id="Lane_0zritsa" name="Klient">
        <bpmn:flowNodeRef>ServiceTask_ShowOrderReceived</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ServiceTask_ShowOrderInProgress</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ServiceTask_ShowOrderOutForDelivery</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ServiceTask_ShowOrderDelivered</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_0pb0qxk">
        <bpmn:flowNodeRef>ExclusiveGateway_CheckInventory</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>UserTask_PlaceOrder</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>StartEvent_Order</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ServiceTask_ConfirmOrder</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ManualTask_PackPizza</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>UserTask_DeliverPizza</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>EndEvent_OrderReceived</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ScriptTask_PreparePizza</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>UserTask_ConfirmDelivery</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>SendTask_SendFailureNotice</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:exclusiveGateway id="ExclusiveGateway_CheckInventory" name="Varude kontroll">
      <bpmn:incoming>Flow_ToInventoryCheck</bpmn:incoming>
      <bpmn:outgoing>Flow_InventoryOk</bpmn:outgoing>
      <bpmn:outgoing>Flow_InventoryFail</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="UserTask_PlaceOrder" name="Klient esitab tellimuse">
      <bpmn:incoming>Flow_OrderPlaced</bpmn:incoming>
      <bpmn:outgoing>Flow_ToConfirmation</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:startEvent id="StartEvent_Order" name="Tellimuse algus">
      <bpmn:outgoing>Flow_OrderPlaced</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:serviceTask id="ServiceTask_ConfirmOrder" name="Restoran kinnitab tellimuse">
      <bpmn:incoming>Flow_ToConfirmation</bpmn:incoming>
      <bpmn:outgoing>Flow_ToInventoryCheck</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:manualTask id="ManualTask_PackPizza" name="Pitsa pakkimine">
      <bpmn:incoming>Flow_ToPacking</bpmn:incoming>
      <bpmn:outgoing>Flow_ToCourier</bpmn:outgoing>
    </bpmn:manualTask>
    <bpmn:userTask id="UserTask_DeliverPizza" name="Kuller toimetab pitsa kohale">
      <bpmn:incoming>Flow_ToCourier</bpmn:incoming>
      <bpmn:outgoing>Flow_ShowOrderOutForDelivery</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:endEvent id="EndEvent_OrderReceived" name="Tellimus lõppenud">
      <bpmn:incoming>Flow_ToEnd</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:scriptTask id="ScriptTask_PreparePizza" name="Pitsa valmistamine">
      <bpmn:incoming>Flow_InventoryOk</bpmn:incoming>
      <bpmn:outgoing>Flow_ToPacking</bpmn:outgoing>
    </bpmn:scriptTask>
    <bpmn:userTask id="UserTask_ConfirmDelivery" name="Klient kinnitab kättesaamise">
      <bpmn:incoming>Flow_ShowOrderDelivered</bpmn:incoming>
      <bpmn:outgoing>Flow_ToEnd</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sendTask id="SendTask_SendFailureNotice" name="Saada kliendile teade: varusid pole">
      <bpmn:incoming>Flow_InventoryFail</bpmn:incoming>
      <bpmn:outgoing>Flow_ToEnd</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:serviceTask id="ServiceTask_ShowOrderReceived" name="Kuva: Tellimus vastu võetud (telefonis)">
      <bpmn:documentation>Tellimuse esitamise järel kuvatakse kliendi rakenduses teade, et tellimus on vastu võetud.</bpmn:documentation>
      <bpmn:incoming>Flow_ToConfirmation</bpmn:incoming>
      <bpmn:outgoing>Flow_ShowOrderInProgress</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="ServiceTask_ShowOrderInProgress" name="Kuva: Tellimus töös (telefonis)">
      <bpmn:documentation>Kui restoran alustab pitsa valmistamist, kuvatakse kliendi rakenduses teade, et tellimus on töös.</bpmn:documentation>
      <bpmn:incoming>Flow_ShowOrderInProgress</bpmn:incoming>
      <bpmn:outgoing>Flow_ShowOrderOutForDelivery</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="ServiceTask_ShowOrderOutForDelivery" name="Kuva: Tellimus teel (telefonis)">
      <bpmn:documentation>Kui kuller võtab pitsa kaasa, kuvatakse kliendi rakenduses teade, et tellimus on teel.</bpmn:documentation>
      <bpmn:incoming>Flow_ShowOrderOutForDelivery</bpmn:incoming>
      <bpmn:outgoing>Flow_ShowOrderDelivered</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="ServiceTask_ShowOrderDelivered" name="Kuva: Tellimus kohal (telefonis)">
      <bpmn:documentation>Kui klient kinnitab kättesaamise, kuvatakse rakenduses teade, et tellimus on kohal.</bpmn:documentation>
      <bpmn:incoming>Flow_ShowOrderDelivered</bpmn:incoming>
      <bpmn:outgoing>Flow_ToEnd</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_ToInventoryCheck" name="Varude kontroll" sourceRef="ServiceTask_ConfirmOrder" targetRef="ExclusiveGateway_CheckInventory" />
    <bpmn:sequenceFlow id="Flow_InventoryOk" name="Varud olemas" sourceRef="ExclusiveGateway_CheckInventory" targetRef="ScriptTask_PreparePizza" />
    <bpmn:sequenceFlow id="Flow_InventoryFail" name="Varud puuduvad" sourceRef="ExclusiveGateway_CheckInventory" targetRef="SendTask_SendFailureNotice" />
    <bpmn:sequenceFlow id="Flow_OrderPlaced" name="Tellimus esitatud" sourceRef="StartEvent_Order" targetRef="UserTask_PlaceOrder" />
    <bpmn:sequenceFlow id="Flow_ToConfirmation" name="Saada restoranile" sourceRef="UserTask_PlaceOrder" targetRef="ServiceTask_ConfirmOrder" />
    <bpmn:sequenceFlow id="Flow_ToPacking" name="Valmis pakkimiseks" sourceRef="ScriptTask_PreparePizza" targetRef="ManualTask_PackPizza" />
    <bpmn:sequenceFlow id="Flow_ToCourier" name="Anna kullerile" sourceRef="ManualTask_PackPizza" targetRef="UserTask_DeliverPizza" />
    <bpmn:sequenceFlow id="Flow_ToDeliveryConfirm" name="Kohaletoimetatud" sourceRef="UserTask_DeliverPizza" targetRef="UserTask_ConfirmDelivery" />
    <bpmn:sequenceFlow id="Flow_ToEnd" name="Tellimus lõpetatud" sourceRef="UserTask_ConfirmDelivery" targetRef="EndEvent_OrderReceived" />
    <bpmn:sequenceFlow id="Flow_ToEnd_Fail" name="Tellimus tühistatud" sourceRef="SendTask_SendFailureNotice" targetRef="EndEvent_OrderReceived" />
    <bpmn:sequenceFlow id="Flow_ShowOrderInProgress" name="Kuva tellimus töös" sourceRef="ServiceTask_ShowOrderReceived" targetRef="ServiceTask_ShowOrderInProgress" />
    <bpmn:sequenceFlow id="Flow_ShowOrderOutForDelivery" name="Kuva tellimus teel" sourceRef="ServiceTask_ShowOrderInProgress" targetRef="ServiceTask_ShowOrderOutForDelivery" />
    <bpmn:sequenceFlow id="Flow_ShowOrderDelivered" name="Kuva tellimus kohal" sourceRef="ServiceTask_ShowOrderOutForDelivery" targetRef="ServiceTask_ShowOrderDelivered" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_PizzaOrder">
    <bpmndi:BPMNPlane id="BPMNPlane_PizzaOrder" bpmnElement="Collaboration_1bt5gf2">
      <bpmndi:BPMNShape id="Participant_1676wq1_di" bpmnElement="Participant_1676wq1" isHorizontal="true">
        <dc:Bounds x="160" y="250" width="1830" height="520" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0zritsa_di" bpmnElement="Lane_0zritsa" isHorizontal="true">
        <dc:Bounds x="190" y="250" width="1800" height="260" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0pb0qxk_di" bpmnElement="Lane_0pb0qxk" isHorizontal="true">
        <dc:Bounds x="190" y="510" width="1800" height="260" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_ExclusiveGateway_CheckInventory" bpmnElement="ExclusiveGateway_CheckInventory" isMarkerVisible="true">
        <dc:Bounds x="845" y="600" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="833.5" y="576" width="73" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_UserTask_PlaceOrder" bpmnElement="UserTask_PlaceOrder">
        <dc:Bounds x="350" y="600" width="120" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_StartEvent_Order" bpmnElement="StartEvent_Order">
        <dc:Bounds x="212" y="612" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="193" y="648" width="75" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_ServiceTask_ConfirmOrder" bpmnElement="ServiceTask_ConfirmOrder">
        <dc:Bounds x="610" y="600" width="140" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_ManualTask_PackPizza" bpmnElement="ManualTask_PackPizza">
        <dc:Bounds x="1200" y="595" width="140" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_UserTask_DeliverPizza" bpmnElement="UserTask_DeliverPizza">
        <dc:Bounds x="1420" y="595" width="140" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_EndEvent_OrderReceived" bpmnElement="EndEvent_OrderReceived">
        <dc:Bounds x="1932" y="652" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1834" y="663" width="88" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_ScriptTask_PreparePizza" bpmnElement="ScriptTask_PreparePizza">
        <dc:Bounds x="980" y="595" width="140" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_UserTask_ConfirmDelivery" bpmnElement="UserTask_ConfirmDelivery">
        <dc:Bounds x="1680" y="595" width="160" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_SendTask_SendFailureNotice" bpmnElement="SendTask_SendFailureNotice">
        <dc:Bounds x="1240" y="690" width="160" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_ServiceTask_ShowOrderReceived" bpmnElement="ServiceTask_ShowOrderReceived">
        <dc:Bounds x="620" y="380" width="120" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_ServiceTask_ShowOrderInProgress" bpmnElement="ServiceTask_ShowOrderInProgress">
        <dc:Bounds x="990" y="380" width="120" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_ServiceTask_ShowOrderOutForDelivery" bpmnElement="ServiceTask_ShowOrderOutForDelivery">
        <dc:Bounds x="1380" y="380" width="120" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_ServiceTask_ShowOrderDelivered" bpmnElement="ServiceTask_ShowOrderDelivered">
        <dc:Bounds x="1680" y="380" width="120" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Edge_Flow_ToInventoryCheck" bpmnElement="Flow_ToInventoryCheck">
        <di:waypoint x="750" y="625" />
        <di:waypoint x="798" y="625" />
        <di:waypoint x="798" y="626" />
        <di:waypoint x="846" y="626" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="763" y="606" width="73" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_InventoryOk" bpmnElement="Flow_InventoryOk">
        <di:waypoint x="895" y="625" />
        <di:waypoint x="980" y="625" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="904" y="600" width="67" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_InventoryFail" bpmnElement="Flow_InventoryFail">
        <di:waypoint x="870" y="650" />
        <di:waypoint x="870" y="720" />
        <di:waypoint x="1240" y="720" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1004" y="696" width="79" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_OrderPlaced" bpmnElement="Flow_OrderPlaced">
        <di:waypoint x="248" y="630" />
        <di:waypoint x="299" y="630" />
        <di:waypoint x="299" y="628" />
        <di:waypoint x="350" y="628" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="258" y="588" width="81" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_ToConfirmation_Client" bpmnElement="Flow_ToConfirmation">
        <di:waypoint x="470" y="628" />
        <di:waypoint x="610" y="628" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="496" y="610" width="87" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_ToPacking" bpmnElement="Flow_ToPacking">
        <di:waypoint x="1120" y="625" />
        <di:waypoint x="1200" y="625" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1132" y="600" width="61" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_ToCourier" bpmnElement="Flow_ToCourier">
        <di:waypoint x="1340" y="625" />
        <di:waypoint x="1420" y="625" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1348" y="606" width="66" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_ToDeliveryConfirm" bpmnElement="Flow_ToDeliveryConfirm">
        <di:waypoint x="1560" y="625" />
        <di:waypoint x="1680" y="625" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1578" y="600" width="86" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_ToEnd" bpmnElement="Flow_ToEnd">
        <di:waypoint x="1840" y="624" />
        <di:waypoint x="1950" y="624" />
        <di:waypoint x="1950" y="652" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1807" y="602" width="88" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_ToEnd_Fail" bpmnElement="Flow_ToEnd_Fail">
        <di:waypoint x="1400" y="720" />
        <di:waypoint x="1950" y="720" />
        <di:waypoint x="1950" y="688" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1640" y="696" width="90" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_ShowOrderInProgress" bpmnElement="Flow_ShowOrderInProgress">
        <di:waypoint x="740" y="408" />
        <di:waypoint x="990" y="408" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="786" y="389" width="90" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_ShowOrderOutForDelivery" bpmnElement="Flow_ShowOrderOutForDelivery">
        <di:waypoint x="1110" y="410" />
        <di:waypoint x="1380" y="410" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1215" y="385" width="87" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_ShowOrderDelivered" bpmnElement="Flow_ShowOrderDelivered">
        <di:waypoint x="1500" y="408" />
        <di:waypoint x="1680" y="408" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1567" y="370" width="66" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Participant_0qha0ej_di" bpmnElement="Participant_0t9g2ts" isHorizontal="true">
        <dc:Bounds x="600" y="80" width="1260" height="60" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1ebuby1_di" bpmnElement="Flow_1ebuby1">
        <di:waypoint x="680" y="380" />
        <di:waypoint x="680" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0rzk3jy_di" bpmnElement="Flow_0rzk3jy">
        <di:waypoint x="1050" y="380" />
        <di:waypoint x="1050" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1h5lt9m_di" bpmnElement="Flow_1h5lt9m">
        <di:waypoint x="1440" y="380" />
        <di:waypoint x="1440" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_15s1f9e_di" bpmnElement="Flow_15s1f9e">
        <di:waypoint x="1740" y="380" />
        <di:waypoint x="1740" y="140" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
