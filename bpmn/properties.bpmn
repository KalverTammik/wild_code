<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:color="http://www.omg.org/spec/BPMN/non-normative/color/1.0" id="PropertiesFlowDefinitions" targetNamespace="http://wild_code/properties">
  <bpmn:process id="AddPropertiesFlow" name="start_adding_properties(table)" isExecutable="true">
    <bpmn:task id="Task_GetSelectedFeatures" name="Get selected features">
      <bpmn:incoming>Flow_Start_To_GetSelected</bpmn:incoming>
      <bpmn:outgoing>Flow_GetSelected_To_Gw_AnySelected</bpmn:outgoing>
    </bpmn:task>
    <bpmn:exclusiveGateway id="Gw_AnySelected" name="Any selected features?">
      <bpmn:incoming>Flow_GetSelected_To_Gw_AnySelected</bpmn:incoming>
      <bpmn:outgoing>Flow_AnySelected_No_To_EndFalse_NoSelection</bpmn:outgoing>
      <bpmn:outgoing>Flow_AnySelected_Yes_To_PrepareLayers</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:task id="Task_PrepareLayers" name="Prepare layers:\nimport + target(main) + archive">
      <bpmn:incoming>Flow_AnySelected_Yes_To_PrepareLayers</bpmn:incoming>
      <bpmn:outgoing>Flow_PrepareLayers_To_Gw_AnyLayerMissing</bpmn:outgoing>
    </bpmn:task>
    <bpmn:exclusiveGateway id="Gw_AnyLayerMissing" name="Any layer missing?">
      <bpmn:incoming>Flow_PrepareLayers_To_Gw_AnyLayerMissing</bpmn:incoming>
      <bpmn:outgoing>Flow_AnyLayerMissing_Yes_To_EndFalse_MissingLayer</bpmn:outgoing>
      <bpmn:outgoing>Flow_AnyLayerMissing_No_To_EnsureTag</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:task id="Task_EnsureTagExists" name="Ensure tag exists:\n&#39;Arhiveeritud&#39; (module=&#39;propertie&#39; in code)">
      <bpmn:incoming>Flow_AnyLayerMissing_No_To_EnsureTag</bpmn:incoming>
      <bpmn:outgoing>Flow_EnsureTag_To_Gw_TargetEditable</bpmn:outgoing>
    </bpmn:task>
    <bpmn:exclusiveGateway id="Gw_TargetEditable" name="Target layer editable?">
      <bpmn:incoming>Flow_EnsureTag_To_Gw_TargetEditable</bpmn:incoming>
      <bpmn:outgoing>Flow_TargetEditable_Yes_To_Sub_ForEach</bpmn:outgoing>
      <bpmn:outgoing>Flow_TargetEditable_No_To_Task_StartEditing</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:task id="Task_StartEditing" name="startEditing()">
      <bpmn:incoming>Flow_TargetEditable_No_To_Task_StartEditing</bpmn:incoming>
      <bpmn:outgoing>Flow_StartEditing_To_Sub_ForEach</bpmn:outgoing>
    </bpmn:task>
    <bpmn:subProcess id="Sub_ForEachFeature" name="For each selected feature">
      <bpmn:incoming>Flow_TargetEditable_Yes_To_Sub_ForEach</bpmn:incoming>
      <bpmn:incoming>Flow_StartEditing_To_Sub_ForEach</bpmn:incoming>
      <bpmn:outgoing>Flow_Sub_ForEach_To_Commit</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics isSequential="true" />
      <bpmn:startEvent id="Sub_Start" name="">
        <bpmn:outgoing>SubFlow_Start_To_PrepareStage1</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:task id="Sub_Task_PrepareStage1" name="prepare_data_for_import_stage1:\n(data, tunnus, siht_data, last_updated_str)">
        <bpmn:incoming>SubFlow_Start_To_PrepareStage1</bpmn:incoming>
        <bpmn:outgoing>SubFlow_PrepareStage1_To_VerifyBackend</bpmn:outgoing>
      </bpmn:task>
      <bpmn:task id="Sub_Task_VerifyBackend" name="Verify backend by tunnus">
        <bpmn:incoming>SubFlow_PrepareStage1_To_VerifyBackend</bpmn:incoming>
        <bpmn:outgoing>SubFlow_VerifyBackend_To_CheckExistsTarget</bpmn:outgoing>
      </bpmn:task>
      <bpmn:task id="Sub_Task_CheckExistsTarget" name="Check exists in target layer by tunnus">
        <bpmn:incoming>SubFlow_VerifyBackend_To_CheckExistsTarget</bpmn:incoming>
        <bpmn:outgoing>SubFlow_CheckExistsTarget_To_Gw_BackendLookupFailed</bpmn:outgoing>
      </bpmn:task>
      <bpmn:exclusiveGateway id="Sub_Gw_BackendLookupFailed" name="exists_backend is None?\n(lookup failed)">
        <bpmn:incoming>SubFlow_CheckExistsTarget_To_Gw_BackendLookupFailed</bpmn:incoming>
        <bpmn:outgoing>SubFlow_BackendLookupFailed_Yes_To_SkipLookupFailure</bpmn:outgoing>
        <bpmn:outgoing>SubFlow_BackendLookupFailed_No_To_ComputeImportNewer</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:task id="Sub_Task_SkipLookupFailure" name="Skip feature (backend lookup failure)">
        <bpmn:incoming>SubFlow_BackendLookupFailed_Yes_To_SkipLookupFailure</bpmn:incoming>
        <bpmn:outgoing>SubFlow_SkipLookupFailure_To_End</bpmn:outgoing>
      </bpmn:task>
      <bpmn:task id="Sub_Task_ComputeImportNewer" name="Compute is_import_newer (import_date &#62; backend_last_updated)">
        <bpmn:incoming>SubFlow_BackendLookupFailed_No_To_ComputeImportNewer</bpmn:incoming>
        <bpmn:outgoing>SubFlow_ComputeImportNewer_To_Gw_IsImportNewer</bpmn:outgoing>
      </bpmn:task>
      <bpmn:exclusiveGateway id="Sub_Gw_IsImportNewer" name="import_date &#62; backend_last_updated?">
        <bpmn:incoming>SubFlow_ComputeImportNewer_To_Gw_IsImportNewer</bpmn:incoming>
        <bpmn:outgoing>SubFlow_IsImportNewer_Yes_To_UpdateBackend</bpmn:outgoing>
        <bpmn:outgoing>SubFlow_IsImportNewer_No_To_Gw_BackendExists_New</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:task id="Sub_Task_UpdateBackend" name="If newer and backend_id exists:\nUpdate backend property">
        <bpmn:incoming>SubFlow_IsImportNewer_Yes_To_UpdateBackend</bpmn:incoming>
        <bpmn:outgoing>SubFlow_UpdateBackend_To_Gw_BackendExists_New</bpmn:outgoing>
      </bpmn:task>
      <bpmn:exclusiveGateway id="Sub_Gw_BackendExists_New" name="exists_backend is False?">
        <bpmn:incoming>SubFlow_UpdateBackend_To_Gw_BackendExists_New</bpmn:incoming>
        <bpmn:incoming>SubFlow_IsImportNewer_No_To_Gw_BackendExists_New</bpmn:incoming>
        <bpmn:outgoing>SubFlow_BackendMissing_New_Yes_To_CreateBackend</bpmn:outgoing>
        <bpmn:outgoing>SubFlow_BackendMissing_New_No_To_Gw_BackendTrueMapFalse</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:task id="Sub_Task_CreateBackend" name="Create backend property\n(add_single_property_item)">
        <bpmn:incoming>SubFlow_BackendMissing_New_Yes_To_CreateBackend</bpmn:incoming>
        <bpmn:outgoing>SubFlow_CreateBackend_To_Gw_MapExists_AfterCreate</bpmn:outgoing>
      </bpmn:task>
      <bpmn:exclusiveGateway id="Sub_Gw_MapExists_AfterCreate" name="exists_map is False?">
        <bpmn:incoming>SubFlow_CreateBackend_To_Gw_MapExists_AfterCreate</bpmn:incoming>
        <bpmn:outgoing>SubFlow_MapMissing_AfterCreate_Yes_To_CopyImport</bpmn:outgoing>
        <bpmn:outgoing>SubFlow_MapMissing_AfterCreate_No_To_End</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:exclusiveGateway id="Sub_Gw_BackendTrueMapFalse" name="exists_map is False? (backend exists)">
        <bpmn:incoming>SubFlow_BackendMissing_New_No_To_Gw_BackendTrueMapFalse</bpmn:incoming>
        <bpmn:outgoing>SubFlow_BackendExists_MapFalse_Yes_To_PromptCopy</bpmn:outgoing>
        <bpmn:outgoing>SubFlow_BackendExists_MapTrue_To_SkipDefault</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:userTask id="Sub_Task_PromptCopy" name="Prompt user: Copy import → main layer?">
        <bpmn:incoming>SubFlow_BackendExists_MapFalse_Yes_To_PromptCopy</bpmn:incoming>
        <bpmn:outgoing>SubFlow_PromptCopy_To_Gw_UserSaysYes</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:exclusiveGateway id="Sub_Gw_UserSaysYes" name="User says Yes?">
        <bpmn:incoming>SubFlow_PromptCopy_To_Gw_UserSaysYes</bpmn:incoming>
        <bpmn:outgoing>SubFlow_UserSaysYes_Yes_To_CopyImport</bpmn:outgoing>
        <bpmn:outgoing>SubFlow_UserSaysYes_No_To_End</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:task id="Sub_Task_SkipDefault" name="Skip (backend exists and map exists)">
        <bpmn:incoming>SubFlow_BackendExists_MapTrue_To_SkipDefault</bpmn:incoming>
        <bpmn:outgoing>SubFlow_SkipDefault_To_End</bpmn:outgoing>
      </bpmn:task>
      <bpmn:endEvent id="Sub_End" name="">
        <bpmn:incoming>SubFlow_SkipLookupFailure_To_End</bpmn:incoming>
        <bpmn:incoming>SubFlow_SkipDefault_To_End</bpmn:incoming>
        <bpmn:incoming>SubFlow_CopyImport_To_End</bpmn:incoming>
        <bpmn:incoming>SubFlow_UserSaysYes_No_To_End</bpmn:incoming>
        <bpmn:incoming>SubFlow_MapMissing_AfterCreate_No_To_End</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="SubFlow_Start_To_PrepareStage1" sourceRef="Sub_Start" targetRef="Sub_Task_PrepareStage1" />
      <bpmn:sequenceFlow id="SubFlow_PrepareStage1_To_VerifyBackend" sourceRef="Sub_Task_PrepareStage1" targetRef="Sub_Task_VerifyBackend" />
      <bpmn:sequenceFlow id="SubFlow_VerifyBackend_To_CheckExistsTarget" sourceRef="Sub_Task_VerifyBackend" targetRef="Sub_Task_CheckExistsTarget" />
      <bpmn:sequenceFlow id="SubFlow_CheckExistsTarget_To_Gw_BackendLookupFailed" sourceRef="Sub_Task_CheckExistsTarget" targetRef="Sub_Gw_BackendLookupFailed" />
      <bpmn:sequenceFlow id="SubFlow_BackendLookupFailed_Yes_To_SkipLookupFailure" name="Yes" sourceRef="Sub_Gw_BackendLookupFailed" targetRef="Sub_Task_SkipLookupFailure" />
      <bpmn:sequenceFlow id="SubFlow_BackendLookupFailed_No_To_ComputeImportNewer" name="No" sourceRef="Sub_Gw_BackendLookupFailed" targetRef="Sub_Task_ComputeImportNewer" />
      <bpmn:sequenceFlow id="SubFlow_SkipLookupFailure_To_End" sourceRef="Sub_Task_SkipLookupFailure" targetRef="Sub_End" />
      <bpmn:sequenceFlow id="SubFlow_ComputeImportNewer_To_Gw_IsImportNewer" sourceRef="Sub_Task_ComputeImportNewer" targetRef="Sub_Gw_IsImportNewer" />
      <bpmn:sequenceFlow id="SubFlow_IsImportNewer_Yes_To_UpdateBackend" name="Yes" sourceRef="Sub_Gw_IsImportNewer" targetRef="Sub_Task_UpdateBackend" />
      <bpmn:sequenceFlow id="SubFlow_IsImportNewer_No_To_Gw_BackendExists_New" name="No" sourceRef="Sub_Gw_IsImportNewer" targetRef="Sub_Gw_BackendExists_New" />
      <bpmn:sequenceFlow id="SubFlow_BackendMissing_New_Yes_To_CreateBackend" name="Yes" sourceRef="Sub_Gw_BackendExists_New" targetRef="Sub_Task_CreateBackend" />
      <bpmn:sequenceFlow id="SubFlow_BackendMissing_New_No_To_Gw_BackendTrueMapFalse" name="No" sourceRef="Sub_Gw_BackendExists_New" targetRef="Sub_Gw_BackendTrueMapFalse" />
      <bpmn:sequenceFlow id="SubFlow_CreateBackend_To_Gw_MapExists_AfterCreate" sourceRef="Sub_Task_CreateBackend" targetRef="Sub_Gw_MapExists_AfterCreate" />
      <bpmn:sequenceFlow id="SubFlow_MapMissing_AfterCreate_Yes_To_CopyImport" name="Yes" sourceRef="Sub_Gw_MapExists_AfterCreate" targetRef="Sub_Task_CopyImport" />
      <bpmn:sequenceFlow id="SubFlow_MapMissing_AfterCreate_No_To_End" name="No" sourceRef="Sub_Gw_MapExists_AfterCreate" targetRef="Sub_End" />
      <bpmn:sequenceFlow id="SubFlow_BackendExists_MapFalse_Yes_To_PromptCopy" name="Yes" sourceRef="Sub_Gw_BackendTrueMapFalse" targetRef="Sub_Task_PromptCopy" />
      <bpmn:sequenceFlow id="SubFlow_BackendExists_MapTrue_To_SkipDefault" name="No" sourceRef="Sub_Gw_BackendTrueMapFalse" targetRef="Sub_Task_SkipDefault" />
      <bpmn:sequenceFlow id="SubFlow_PromptCopy_To_Gw_UserSaysYes" sourceRef="Sub_Task_PromptCopy" targetRef="Sub_Gw_UserSaysYes" />
      <bpmn:sequenceFlow id="SubFlow_UserSaysYes_Yes_To_CopyImport" name="Yes" sourceRef="Sub_Gw_UserSaysYes" targetRef="Sub_Task_CopyImport" />
      <bpmn:sequenceFlow id="SubFlow_UserSaysYes_No_To_End" name="No" sourceRef="Sub_Gw_UserSaysYes" targetRef="Sub_End" />
      <bpmn:sequenceFlow id="SubFlow_SkipDefault_To_End" sourceRef="Sub_Task_SkipDefault" targetRef="Sub_End" />
      <bpmn:sequenceFlow id="SubFlow_CopyImport_To_End" sourceRef="Sub_Task_CopyImport" targetRef="Sub_End" />
      <bpmn:sequenceFlow id="SubFlow_UpdateBackend_To_Gw_BackendExists_New" sourceRef="Sub_Task_UpdateBackend" targetRef="Sub_Gw_BackendExists_New" />
      <bpmn:task id="Sub_Task_CopyImport" name="Copy import feature → main layer">
        <bpmn:incoming>SubFlow_MapMissing_AfterCreate_Yes_To_CopyImport</bpmn:incoming>
        <bpmn:incoming>SubFlow_UserSaysYes_Yes_To_CopyImport</bpmn:incoming>
        <bpmn:outgoing>SubFlow_CopyImport_To_End</bpmn:outgoing>
      </bpmn:task>
    </bpmn:subProcess>
    <bpmn:task id="Task_CommitChanges" name="commitChanges()">
      <bpmn:incoming>Flow_Sub_ForEach_To_Commit</bpmn:incoming>
      <bpmn:outgoing>Flow_Commit_To_Gw_CommitOk</bpmn:outgoing>
    </bpmn:task>
    <bpmn:exclusiveGateway id="Gw_CommitOk" name="Commit OK?">
      <bpmn:incoming>Flow_Commit_To_Gw_CommitOk</bpmn:incoming>
      <bpmn:outgoing>Flow_CommitOk_Yes_To_EndTrue</bpmn:outgoing>
      <bpmn:outgoing>Flow_CommitOk_No_To_RollBack</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:task id="Task_RollBackChanges" name="rollBack()">
      <bpmn:incoming>Flow_CommitOk_No_To_RollBack</bpmn:incoming>
      <bpmn:outgoing>Flow_RollBack_To_EndFalse_Commit</bpmn:outgoing>
    </bpmn:task>
    <bpmn:endEvent id="End_True" name="Return True">
      <bpmn:incoming>Flow_CommitOk_Yes_To_EndTrue</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:endEvent id="End_False_NoSelection" name="Return False">
      <bpmn:incoming>Flow_AnySelected_No_To_EndFalse_NoSelection</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:endEvent id="End_False_MissingLayer" name="Return False">
      <bpmn:incoming>Flow_AnyLayerMissing_Yes_To_EndFalse_MissingLayer</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:endEvent id="End_False_Commit" name="Return False">
      <bpmn:incoming>Flow_RollBack_To_EndFalse_Commit</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_Start_To_GetSelected" sourceRef="Start_AddProperties" targetRef="Task_GetSelectedFeatures" />
    <bpmn:sequenceFlow id="Flow_GetSelected_To_Gw_AnySelected" sourceRef="Task_GetSelectedFeatures" targetRef="Gw_AnySelected" />
    <bpmn:sequenceFlow id="Flow_AnySelected_No_To_EndFalse_NoSelection" name="No" sourceRef="Gw_AnySelected" targetRef="End_False_NoSelection" />
    <bpmn:sequenceFlow id="Flow_AnySelected_Yes_To_PrepareLayers" name="Yes" sourceRef="Gw_AnySelected" targetRef="Task_PrepareLayers" />
    <bpmn:sequenceFlow id="Flow_PrepareLayers_To_Gw_AnyLayerMissing" sourceRef="Task_PrepareLayers" targetRef="Gw_AnyLayerMissing" />
    <bpmn:sequenceFlow id="Flow_AnyLayerMissing_Yes_To_EndFalse_MissingLayer" name="Yes" sourceRef="Gw_AnyLayerMissing" targetRef="End_False_MissingLayer" />
    <bpmn:sequenceFlow id="Flow_AnyLayerMissing_No_To_EnsureTag" name="No" sourceRef="Gw_AnyLayerMissing" targetRef="Task_EnsureTagExists" />
    <bpmn:sequenceFlow id="Flow_EnsureTag_To_Gw_TargetEditable" sourceRef="Task_EnsureTagExists" targetRef="Gw_TargetEditable" />
    <bpmn:sequenceFlow id="Flow_TargetEditable_No_To_Task_StartEditing" name="No" sourceRef="Gw_TargetEditable" targetRef="Task_StartEditing" />
    <bpmn:sequenceFlow id="Flow_TargetEditable_Yes_To_Sub_ForEach" name="Yes" sourceRef="Gw_TargetEditable" targetRef="Sub_ForEachFeature" />
    <bpmn:sequenceFlow id="Flow_StartEditing_To_Sub_ForEach" sourceRef="Task_StartEditing" targetRef="Sub_ForEachFeature" />
    <bpmn:sequenceFlow id="Flow_Sub_ForEach_To_Commit" sourceRef="Sub_ForEachFeature" targetRef="Task_CommitChanges" />
    <bpmn:sequenceFlow id="Flow_Commit_To_Gw_CommitOk" sourceRef="Task_CommitChanges" targetRef="Gw_CommitOk" />
    <bpmn:sequenceFlow id="Flow_CommitOk_Yes_To_EndTrue" name="Yes" sourceRef="Gw_CommitOk" targetRef="End_True" />
    <bpmn:sequenceFlow id="Flow_CommitOk_No_To_RollBack" name="No" sourceRef="Gw_CommitOk" targetRef="Task_RollBackChanges" />
    <bpmn:sequenceFlow id="Flow_RollBack_To_EndFalse_Commit" sourceRef="Task_RollBackChanges" targetRef="End_False_Commit" />
    <bpmn:startEvent id="Start_AddProperties" name="Start\nstart_adding_properties(table)">
      <bpmn:outgoing>Flow_Start_To_GetSelected</bpmn:outgoing>
      <bpmn:signalEventDefinition id="SignalEventDefinition_05a89c8" />
    </bpmn:startEvent>
    <bpmn:textAnnotation id="TextAnnotation_0cuqfvw">
      <bpmn:text>selected table features</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1ogwz0d" associationDirection="None" sourceRef="Task_GetSelectedFeatures" targetRef="TextAnnotation_0cuqfvw" />
    <bpmn:textAnnotation id="TextAnnotation_171ju1u">
      <bpmn:text>Code note: module='propertie' (typo); tag_id currently unused</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1my14m7" associationDirection="None" sourceRef="Task_EnsureTagExists" targetRef="TextAnnotation_171ju1u" />
    <bpmn:textAnnotation id="TextAnnotation_TodoArchiveReplace">
      <bpmn:text>TODO: Archive/replace flow described in docstring is not implemented; current code only updates backend fields.</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_NoteBackendMissingMapExists">
      <bpmn:text>Docstring gap: if backend missing but map exists, code still creates backend (no user prompt).</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_LoopNote">
      <bpmn:text>Loop: sequential over selected_features</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_LoopNote" associationDirection="None" sourceRef="Sub_ForEachFeature" targetRef="TextAnnotation_LoopNote" />
    <bpmn:association id="Association_NoteBackendMissingMapExists" associationDirection="None" sourceRef="Sub_ForEachFeature" targetRef="TextAnnotation_NoteBackendMissingMapExists" />
    <bpmn:association id="Association_TodoArchiveReplace" associationDirection="None" sourceRef="Sub_Task_UpdateBackend" targetRef="TextAnnotation_TodoArchiveReplace" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="Diagram_AddPropertiesFlow">
    <bpmndi:BPMNPlane id="Plane_AddPropertiesFlow" bpmnElement="AddPropertiesFlow">
      <bpmndi:BPMNShape id="Shape_Task_GetSelectedFeatures" bpmnElement="Task_GetSelectedFeatures" bioc:stroke="#f9a825" bioc:fill="#fff9c4" color:background-color="#fff9c4" color:border-color="#f9a825">
        <dc:Bounds x="700" y="-20" width="200" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Gw_AnySelected" bpmnElement="Gw_AnySelected" isMarkerVisible="true">
        <dc:Bounds x="775" y="105" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="691" y="110" width="62" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Task_PrepareLayers" bpmnElement="Task_PrepareLayers" bioc:stroke="#f9a825" bioc:fill="#fff9c4" color:background-color="#fff9c4" color:border-color="#f9a825">
        <dc:Bounds x="650" y="235" width="300" height="70" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Gw_AnyLayerMissing" bpmnElement="Gw_AnyLayerMissing" isMarkerVisible="true">
        <dc:Bounds x="775" y="365" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="703" y="376" width="47" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Task_EnsureTagExists" bpmnElement="Task_EnsureTagExists" bioc:stroke="#6a1b9a" bioc:fill="#e1bee7" color:background-color="#e1bee7" color:border-color="#6a1b9a">
        <dc:Bounds x="640" y="450" width="320" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Gw_TargetEditable" bpmnElement="Gw_TargetEditable" isMarkerVisible="true">
        <dc:Bounds x="775" y="550" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="861" y="561" width="58" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Task_StartEditing" bpmnElement="Task_StartEditing" bioc:stroke="#f9a825" bioc:fill="#fff9c4" color:background-color="#fff9c4" color:border-color="#f9a825">
        <dc:Bounds x="520" y="545" width="180" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_End_False_Commit" bpmnElement="End_False_Commit" bioc:stroke="#831311" bioc:fill="#ffcdd2" color:background-color="#ffcdd2" color:border-color="#831311">
        <dc:Bounds x="1012" y="1912" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1092" y="1923" width="63" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_ForEachFeature" bpmnElement="Sub_ForEachFeature" isExpanded="true">
        <dc:Bounds x="300" y="650" width="1200" height="1040" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_Start" bpmnElement="Sub_Start">
        <dc:Bounds x="372" y="742" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_Task_PrepareStage1" bpmnElement="Sub_Task_PrepareStage1" bioc:stroke="#f9a825" bioc:fill="#fff9c4" color:background-color="#fff9c4" color:border-color="#f9a825">
        <dc:Bounds x="495" y="725" width="330" height="70" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_Task_VerifyBackend" bpmnElement="Sub_Task_VerifyBackend" bioc:stroke="#6a1b9a" bioc:fill="#e1bee7" color:background-color="#e1bee7" color:border-color="#6a1b9a">
        <dc:Bounds x="900" y="730" width="200" height="60" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_Task_CheckExistsTarget" bpmnElement="Sub_Task_CheckExistsTarget" bioc:stroke="#f9a825" bioc:fill="#fff9c4" color:background-color="#fff9c4" color:border-color="#f9a825">
        <dc:Bounds x="1155" y="730" width="250" height="60" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_Gw_BackendLookupFailed" bpmnElement="Sub_Gw_BackendLookupFailed" isMarkerVisible="true">
        <dc:Bounds x="1255" y="835" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1315" y="840" width="88" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_Task_ComputeImportNewer" bpmnElement="Sub_Task_ComputeImportNewer" bioc:stroke="#6a1b9a" bioc:fill="#e1bee7" color:background-color="#e1bee7" color:border-color="#6a1b9a">
        <dc:Bounds x="335" y="825" width="330" height="70" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_Gw_IsImportNewer" bpmnElement="Sub_Gw_IsImportNewer" isMarkerVisible="true">
        <dc:Bounds x="484" y="950" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="378" y="973" width="85" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_Task_UpdateBackend" bpmnElement="Sub_Task_UpdateBackend" bioc:stroke="#6a1b9a" bioc:fill="#e1bee7" color:background-color="#e1bee7" color:border-color="#6a1b9a">
        <dc:Bounds x="345" y="1130" width="310" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_Gw_BackendExists_New" bpmnElement="Sub_Gw_BackendExists_New" isMarkerVisible="true">
        <dc:Bounds x="685" y="1145" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="733" y="1096" width="88" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_Task_CreateBackend" bpmnElement="Sub_Task_CreateBackend" bioc:stroke="#6a1b9a" bioc:fill="#e1bee7" color:background-color="#e1bee7" color:border-color="#6a1b9a">
        <dc:Bounds x="800" y="1140" width="200" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_Gw_MapExists_AfterCreate" bpmnElement="Sub_Gw_MapExists_AfterCreate" isMarkerVisible="true">
        <dc:Bounds x="1055" y="1145" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1046" y="1108" width="68" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_Gw_BackendTrueMapFalse" bpmnElement="Sub_Gw_BackendTrueMapFalse" isMarkerVisible="true">
        <dc:Bounds x="475" y="1434" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="380" y="1439" width="82" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_Task_PromptCopy" bpmnElement="Sub_Task_PromptCopy" bioc:stroke="#f9a825" bioc:fill="#fff9c4" color:background-color="#fff9c4" color:border-color="#f9a825">
        <dc:Bounds x="660" y="1424" width="240" height="70" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_Gw_UserSaysYes" bpmnElement="Sub_Gw_UserSaysYes" isMarkerVisible="true">
        <dc:Bounds x="1055" y="1434" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1042" y="1494" width="76" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_Task_SkipDefault" bpmnElement="Sub_Task_SkipDefault">
        <dc:Bounds x="695" y="1580" width="170" height="60" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_Task_CopyImport" bpmnElement="Sub_Task_CopyImport" bioc:stroke="#f9a825" bioc:fill="#fff9c4" color:background-color="#fff9c4" color:border-color="#f9a825">
        <dc:Bounds x="955" y="1280" width="250" height="60" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_Task_SkipLookupFailure" bpmnElement="Sub_Task_SkipLookupFailure">
        <dc:Bounds x="1155" y="990" width="250" height="60" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Sub_End" bpmnElement="Sub_End" bioc:stroke="#205022" bioc:fill="#c8e6c9" color:background-color="#c8e6c9" color:border-color="#205022">
        <dc:Bounds x="1262" y="1441" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Edge_SubFlow_Start_To_PrepareStage1" bpmnElement="SubFlow_Start_To_PrepareStage1">
        <di:waypoint x="408" y="760" />
        <di:waypoint x="495" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_PrepareStage1_To_VerifyBackend" bpmnElement="SubFlow_PrepareStage1_To_VerifyBackend">
        <di:waypoint x="825" y="760" />
        <di:waypoint x="900" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_VerifyBackend_To_CheckExistsTarget" bpmnElement="SubFlow_VerifyBackend_To_CheckExistsTarget">
        <di:waypoint x="1100" y="760" />
        <di:waypoint x="1155" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_CheckExistsTarget_To_Gw_BackendLookupFailed" bpmnElement="SubFlow_CheckExistsTarget_To_Gw_BackendLookupFailed">
        <di:waypoint x="1280" y="790" />
        <di:waypoint x="1280" y="835" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_BackendLookupFailed_Yes_To_SkipLookupFailure" bpmnElement="SubFlow_BackendLookupFailed_Yes_To_SkipLookupFailure" bioc:stroke="#2e7d32" color:border-color="#2e7d32">
        <di:waypoint x="1280" y="885" />
        <di:waypoint x="1280" y="990" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1289" y="931" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_BackendLookupFailed_No_To_ComputeImportNewer" bpmnElement="SubFlow_BackendLookupFailed_No_To_ComputeImportNewer" bioc:stroke="#831311" color:border-color="#831311">
        <di:waypoint x="1255" y="860" />
        <di:waypoint x="665" y="860" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="953" y="835" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_SkipLookupFailure_To_End" bpmnElement="SubFlow_SkipLookupFailure_To_End">
        <di:waypoint x="1280" y="1050" />
        <di:waypoint x="1280" y="1441" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_ComputeImportNewer_To_Gw_IsImportNewer" bpmnElement="SubFlow_ComputeImportNewer_To_Gw_IsImportNewer">
        <di:waypoint x="509" y="895" />
        <di:waypoint x="509" y="950" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_IsImportNewer_Yes_To_UpdateBackend" bpmnElement="SubFlow_IsImportNewer_Yes_To_UpdateBackend" bioc:stroke="#2e7d32" color:border-color="#2e7d32">
        <di:waypoint x="509" y="1000" />
        <di:waypoint x="509" y="1130" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="531" y="1053" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_IsImportNewer_No_To_Gw_BackendExists_New" bpmnElement="SubFlow_IsImportNewer_No_To_Gw_BackendExists_New" bioc:stroke="#831311" color:border-color="#831311">
        <di:waypoint x="534" y="975" />
        <di:waypoint x="710" y="975" />
        <di:waypoint x="710" y="1145" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="602" y="950" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_BackendMissing_New_Yes_To_CreateBackend" bpmnElement="SubFlow_BackendMissing_New_Yes_To_CreateBackend" bioc:stroke="#2e7d32" color:border-color="#2e7d32">
        <di:waypoint x="735" y="1170" />
        <di:waypoint x="800" y="1170" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="752" y="1148" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_BackendMissing_New_No_To_Gw_BackendTrueMapFalse" bpmnElement="SubFlow_BackendMissing_New_No_To_Gw_BackendTrueMapFalse" bioc:stroke="#831311" color:border-color="#831311">
        <di:waypoint x="710" y="1195" />
        <di:waypoint x="710" y="1320" />
        <di:waypoint x="502" y="1320" />
        <di:waypoint x="502" y="1436" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="730" y="1243" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_CreateBackend_To_Gw_MapExists_AfterCreate" bpmnElement="SubFlow_CreateBackend_To_Gw_MapExists_AfterCreate">
        <di:waypoint x="1000" y="1173" />
        <di:waypoint x="1058" y="1173" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_MapMissing_AfterCreate_Yes_To_CopyImport" bpmnElement="SubFlow_MapMissing_AfterCreate_Yes_To_CopyImport" bioc:stroke="#2e7d32" color:border-color="#2e7d32">
        <di:waypoint x="1078" y="1193" />
        <di:waypoint x="1078" y="1280" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1101" y="1223" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_MapMissing_AfterCreate_No_To_End" bpmnElement="SubFlow_MapMissing_AfterCreate_No_To_End" bioc:stroke="#831311" color:border-color="#831311">
        <di:waypoint x="1105" y="1170" />
        <di:waypoint x="1280" y="1170" />
        <di:waypoint x="1280" y="1441" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1120" y="1153" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_BackendExists_MapFalse_Yes_To_PromptCopy" bpmnElement="SubFlow_BackendExists_MapFalse_Yes_To_PromptCopy" bioc:stroke="#2e7d32" color:border-color="#2e7d32">
        <di:waypoint x="525" y="1459" />
        <di:waypoint x="660" y="1459" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="541" y="1436" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_BackendExists_MapTrue_To_SkipDefault" bpmnElement="SubFlow_BackendExists_MapTrue_To_SkipDefault" bioc:stroke="#831311" color:border-color="#831311">
        <di:waypoint x="500" y="1484" />
        <di:waypoint x="500" y="1610" />
        <di:waypoint x="695" y="1610" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="522" y="1543" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_PromptCopy_To_Gw_UserSaysYes" bpmnElement="SubFlow_PromptCopy_To_Gw_UserSaysYes">
        <di:waypoint x="900" y="1459" />
        <di:waypoint x="1055" y="1459" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_UserSaysYes_Yes_To_CopyImport" bpmnElement="SubFlow_UserSaysYes_Yes_To_CopyImport" bioc:stroke="#2e7d32" color:border-color="#2e7d32">
        <di:waypoint x="1080" y="1434" />
        <di:waypoint x="1080" y="1340" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1091" y="1407" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_UserSaysYes_No_To_End" bpmnElement="SubFlow_UserSaysYes_No_To_End" bioc:stroke="#831311" color:border-color="#831311">
        <di:waypoint x="1105" y="1459" />
        <di:waypoint x="1262" y="1459" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1111" y="1436" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_SkipDefault_To_End" bpmnElement="SubFlow_SkipDefault_To_End">
        <di:waypoint x="865" y="1610" />
        <di:waypoint x="1280" y="1610" />
        <di:waypoint x="1280" y="1477" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_CopyImport_To_End" bpmnElement="SubFlow_CopyImport_To_End">
        <di:waypoint x="1205" y="1310" />
        <di:waypoint x="1280" y="1310" />
        <di:waypoint x="1280" y="1441" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_SubFlow_UpdateBackend_To_Gw_BackendExists_New" bpmnElement="SubFlow_UpdateBackend_To_Gw_BackendExists_New">
        <di:waypoint x="655" y="1170" />
        <di:waypoint x="685" y="1170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Shape_Task_CommitChanges" bpmnElement="Task_CommitChanges" bioc:stroke="#f9a825" bioc:fill="#fff9c4" color:background-color="#fff9c4" color:border-color="#f9a825">
        <dc:Bounds x="700" y="1790" width="200" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Gw_CommitOk" bpmnElement="Gw_CommitOk" isMarkerVisible="true">
        <dc:Bounds x="775" y="1905" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="702" y="1923" width="63" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Task_RollBackChanges" bpmnElement="Task_RollBackChanges" bioc:stroke="#f9a825" bioc:fill="#fff9c4" color:background-color="#fff9c4" color:border-color="#f9a825">
        <dc:Bounds x="850" y="1900" width="90" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_End_True" bpmnElement="End_True" bioc:stroke="#205022" bioc:fill="#c8e6c9" color:background-color="#c8e6c9" color:border-color="#205022">
        <dc:Bounds x="782" y="2112" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="770" y="2183" width="59" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_End_False_NoSelection" bpmnElement="End_False_NoSelection">
        <dc:Bounds x="980" y="112" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1028" y="123" width="63" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_End_False_MissingLayer" bpmnElement="End_False_MissingLayer">
        <dc:Bounds x="980" y="372" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1038" y="383" width="63" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1onu8r0_di" bpmnElement="Start_AddProperties">
        <dc:Bounds x="785" y="-108" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="759" y="-158" width="87" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_NoteBackendMissingMapExists_di" bpmnElement="Association_NoteBackendMissingMapExists">
        <di:waypoint x="951" y="1008" />
        <di:waypoint x="951" y="1008" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_TodoArchiveReplace_di" bpmnElement="Association_TodoArchiveReplace">
        <di:waypoint x="340" y="1150" />
        <di:waypoint x="220" y="1080" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_0cuqfvw_di" bpmnElement="TextAnnotation_0cuqfvw">
        <dc:Bounds x="960" y="-100" width="100" height="41" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_171ju1u_di" bpmnElement="TextAnnotation_171ju1u">
        <dc:Bounds x="1040" y="442" width="220" height="75" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_LoopNote_di" bpmnElement="TextAnnotation_LoopNote">
        <dc:Bounds x="320" y="660" width="220" height="50" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Edge_Flow_Start_To_GetSelected" bpmnElement="Flow_Start_To_GetSelected">
        <di:waypoint x="802" y="-72" />
        <di:waypoint x="802" y="-20" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_GetSelected_To_Gw_AnySelected" bpmnElement="Flow_GetSelected_To_Gw_AnySelected">
        <di:waypoint x="800" y="40" />
        <di:waypoint x="800" y="105" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_AnySelected_No_To_EndFalse_NoSelection" bpmnElement="Flow_AnySelected_No_To_EndFalse_NoSelection" bioc:stroke="#831311" color:border-color="#831311">
        <di:waypoint x="825" y="130" />
        <di:waypoint x="980" y="130" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="896" y="106" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_AnySelected_Yes_To_PrepareLayers" bpmnElement="Flow_AnySelected_Yes_To_PrepareLayers" bioc:stroke="#2e7d32" color:border-color="#2e7d32">
        <di:waypoint x="800" y="155" />
        <di:waypoint x="800" y="235" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="768" y="180" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_PrepareLayers_To_Gw_AnyLayerMissing" bpmnElement="Flow_PrepareLayers_To_Gw_AnyLayerMissing">
        <di:waypoint x="800" y="305" />
        <di:waypoint x="800" y="365" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_AnyLayerMissing_Yes_To_EndFalse_MissingLayer" bpmnElement="Flow_AnyLayerMissing_Yes_To_EndFalse_MissingLayer" bioc:stroke="#2e7d32" color:border-color="#2e7d32">
        <di:waypoint x="825" y="390" />
        <di:waypoint x="980" y="390" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="895" y="366" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_AnyLayerMissing_No_To_EnsureTag" bpmnElement="Flow_AnyLayerMissing_No_To_EnsureTag" bioc:stroke="#831311" color:border-color="#831311">
        <di:waypoint x="800" y="415" />
        <di:waypoint x="800" y="450" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="803" y="424" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_EnsureTag_To_Gw_TargetEditable" bpmnElement="Flow_EnsureTag_To_Gw_TargetEditable">
        <di:waypoint x="800" y="510" />
        <di:waypoint x="800" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_TargetEditable_No_To_Task_StartEditing" bpmnElement="Flow_TargetEditable_No_To_Task_StartEditing" bioc:stroke="#831311" color:border-color="#831311">
        <di:waypoint x="775" y="575" />
        <di:waypoint x="700" y="575" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_TargetEditable_Yes_To_Sub_ForEach" bpmnElement="Flow_TargetEditable_Yes_To_Sub_ForEach" bioc:stroke="#2e7d32" color:border-color="#2e7d32">
        <di:waypoint x="800" y="600" />
        <di:waypoint x="800" y="650" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="806" y="615" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_StartEditing_To_Sub_ForEach" bpmnElement="Flow_StartEditing_To_Sub_ForEach">
        <di:waypoint x="610" y="605" />
        <di:waypoint x="610" y="650" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_Sub_ForEach_To_Commit" bpmnElement="Flow_Sub_ForEach_To_Commit">
        <di:waypoint x="800" y="1690" />
        <di:waypoint x="800" y="1790" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_Commit_To_Gw_CommitOk" bpmnElement="Flow_Commit_To_Gw_CommitOk">
        <di:waypoint x="800" y="1850" />
        <di:waypoint x="800" y="1905" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_CommitOk_Yes_To_EndTrue" bpmnElement="Flow_CommitOk_Yes_To_EndTrue" bioc:stroke="#2e7d32" color:border-color="#2e7d32">
        <di:waypoint x="800" y="1955" />
        <di:waypoint x="800" y="2112" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="805" y="1999" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_CommitOk_No_To_RollBack" bpmnElement="Flow_CommitOk_No_To_RollBack" bioc:stroke="#831311" color:border-color="#831311">
        <di:waypoint x="825" y="1930" />
        <di:waypoint x="850" y="1930" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="830" y="1913" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Flow_RollBack_To_EndFalse_Commit" bpmnElement="Flow_RollBack_To_EndFalse_Commit">
        <di:waypoint x="940" y="1930" />
        <di:waypoint x="1012" y="1930" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1ogwz0d_di" bpmnElement="Association_1ogwz0d">
        <di:waypoint x="866" y="-20" />
        <di:waypoint x="960" y="-62" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1my14m7_di" bpmnElement="Association_1my14m7">
        <di:waypoint x="960" y="477" />
        <di:waypoint x="1040" y="475" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_LoopNote_di" bpmnElement="Association_LoopNote">
        <di:waypoint x="320" y="685" />
        <di:waypoint x="320" y="685" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_NoteBackendMissingMapExists_di" bpmnElement="TextAnnotation_NoteBackendMissingMapExists">
        <dc:Bounds x="950" y="970" width="150" height="75" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_TodoArchiveReplace_di" bpmnElement="TextAnnotation_TodoArchiveReplace">
        <dc:Bounds x="70" y="990" width="160" height="90" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
